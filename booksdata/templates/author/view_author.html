{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}添加作者{% endblock %}

{% block content %}
    <div class="container" style="width: 100%">
        <div class="col-md-12 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <form class="form-inline" role="form" action="/testreport/short_views/" method="POST">
                    <div class="form-group">
                        <label>业务线</label>&nbsp;
                        <select class="form-control" name="t-Line" id="t-Line" onChange="change()">
                                <option value="请选择">---请选择---</option>
                                {% for value, name in test_group %}
                                <option value={{ name }}>{{ name }}</option>
                                {% endfor %}
                        </select>
                    <select class="form-control" name="t-Line-Deatial" id="t-Line-Deatial">
                        <option value="请选择">---请选择---</option>
                    </select>
                    </div>
                    <div class="form-group">
                        <label>报告名称</label>
                        <input name="reporttitle" class="form-control" type="text" placeholder="请输入报告名称！！！">
                    </div>
                    <div class="form-group">
                        <label>是否通过</label>
                        <select class="form-control" name="reportpass">
                            <option value="-1">---请选择---</option>
                            <option value="通过">通过</option>
                            <option value="不通过">不通过</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>开始时间</label>
                        <div class="input-group date" data-provide="datepicker"  data-date-format="yyyy-mm-dd" data-date-viewmode="years" data-date-minviewmode="months">
                            <input id="onlineday_start" type="text" class="form-control check" name="reportstartttime" placeholder="请输入开始时间！！！">
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-th"></span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                         <label>结束时间</label>
                        <div class="input-group date" data-provide="datepicker"  data-date-format="yyyy-mm-dd" data-date-viewmode="years" data-date-minviewmode="months">
                            <input id="onlineday_end" type="text" class="form-control check" name="reportendtime" placeholder="请输入结束时间！！！">
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-th"></span>
                            </div>
                        </div>
                    </div>
                    <label>创建人</label>
                    <div class="form-group">
                        <select name="t-creater" id="t-creater" class="selectpicker form-control" multiple data-live-search="true" data-live-search-placeholder="搜索" data-max-options="1">
                              {% for user,count in report_list_user %}
                                  <option value={{ user }}>{{ user }}</option>
                              {% endfor %}
                        </select>
                    </div>
                    <div class="form-group pull-right">
                        <a type="button" href="/testreport/add_report" class="btn btn-success">新建</a>
                        <button type="submit" class="btn btn-info">查询</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 col-sm-12">
            <div class="form-group">
                <table border="1" class="table table-striped table-bordered table-hover">
                    <thead>
                    <tr>
                        <th class="col-lg-1">#</th>
                        <th class="col-lg-2">报告名称</th>
                        <th class="col-lg-3">备注</th>
                        <th class="col-lg-1">是否通过</th>
                        <th class="col-lg-2">报告时间</th>
                        <th class="col-lg-1">创建人</th>
                        <th class="col-lg-1">产品线</th>
                        <th class="col-lg-1">操作</th>
                    </tr>
                    </thead>
                    <today>
                        {% for report in report_list %}
                            <tr class="info">
                                <td>{{ report.id }}</td>
                                <td>{{ report.report_title }}</td>
                                <td>{{ report.report_item_all }}</td>
                                <td>{{ report.report_pass }}</td>
                                <td>{{ report.create_time|date:"Y-m-d" }}</td>
                                <td>{{ report.report_creater }}</td>
                                <td>{{ report.report_line_detail }}</td>
                                <td><a href="/testreport/detail_view/{{ report.id }}" type="button" class="btn btn-success">查看</a></td>
                            </tr>
                        {% endfor %}
                    </today>
                </table>
                {% if flag == 0 %}
                <div class="form-group pull-right" style="display: none">
                {% elif flag != 0 %}
                <div class="form-group pull-right">
                {% endif %}
                        <span class="step-links" style="float: right">
                            {% if report_list.has_previous %}
                          <a href="?page={{ report_list.previous_page_number }}">前一页</a>
                            {% endif %}

                            <span class="current">
                               第{{ report_list.number }}页 ，共{{ report_list.paginator.num_pages }}页.
                            </span>

                            {% if report_list.has_next %}
                                <a href="?page={{ report_list.next_page_number }}">后一页</a>
                            {% endif %}
                        </span>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div> <!-- /container -->
{% endblock %}